/*
* Extendify JavaScript Framework 1.1
* https://github.com/jameswestgate/ExtendJS
* 
* Copyright (c) James Westgate 2013
*
* Dual licensed under the MIT and GPL licenses:
*   http://www.opensource.org/licenses/mit-license.php
*   http://www.gnu.org/licenses/gpl.html
*/

window.extend=function(e){function n(b){return null===b?"null":"undefined"===typeof b?"undefined":Object.prototype.toString.call(b).toLowerCase().replace("[object ","").replace("]","")}function q(b){null!==b&&j[b].open>j[b].closed&&(h.push(">"),j[b].closed++)}function k(b,d){var a=n(b);if("array"===a)for(var c=0,a=a.length;c<a;c++)k(b[c],d);else if("function"===a)a=[],(c=b.apply(a))&&a.push(c),k(a,d);else if("object"===a)for(c in b)b.hasOwnProperty(c)&&(a=b[c],j[c]?(q(d),h.push("<"+c),j[c].open++,
k(a,c),q(c),h.push("</"+c+">")):"text"===c?k(a,d):(h.push(" "+c+'="'),k(a,null),h.push('"')));else q(d),h.push(b)}delete window.extend;e=e||window;e.is=function(b,d){return n(b)===d};e.extendify=function(b){return function(d){if(arguments.length){var a=n(d);if("function"===a)d.apply(b);else if("object"===a)for(var c in a)b[c]=a[c]}}};e.namespace=function(b,d){var a=window;if("string"===typeof b)for(var c=b.split("."),p=0,g=c.length;p<g;p++)a=a[c[p]]=a[c[p]]||{},a.extend||(a.extend=e.extendify(a));
else a=b;a.extend(d);return a};e.type=function(b,d){function a(){for(var a=0,d=c.length;a<d;a++)this.base=b,c[a].apply(this,arguments)}var c=[];1===arguments.length&&(d=b,b=null);b&&(a.prototype=new b);a.prototype.extend=e.extendify(a.prototype);a.extend=function(a){"function"===typeof a&&c.push(a)};a.extend(d);return a};var r=[];e.load=function(){if(arguments.length)for(var b,d=0,a=0,c=0,e=arguments.length;c<e;c++){var g=arguments[c];if("function"===typeof g){b=g;d=c;a===d&&b();break}g=g.toString();
if(r[g])a++,b&&a===d&&b();else{var f=document.createElement("script");f.type="text/javascript";f.onload=f.onreadystatechange=function(){if(f.readyState&&"complete"!==f.readyState&&"loaded"!==f.readyState)return!1;f.onload=f.onreadystatechange=null;a++;r[g]=!0;b&&a===d&&b()};f.async=!0;f.src=g;document.getElementsByTagName("head")[0].appendChild(f)}}};for(var j={},h,s="abipq bbbrdddldtemh1h2h3h4h5h6hrliolrprttdthtrul bdocoldeldfndivimginskbdmapnavpresubsupvar abbrareabasebodycitecodeformheadhtmllinkmarkmenumetarubysampspantime asideaudioembedinputlabelmeterparamsmalltabletbodytfoottheadtitlevideo buttoncanvasdialogfigurefooterheaderiframelegendobjectoptionoutputscriptselectsourcestrong addressarticlecaptioncommanddetailssection colgroupdatagriddatalistfieldsetnoscriptoptgroupprogresstextarea  blockquote eventsource".split(" "),
l=1,u=s.length;l<=u;l++)for(var t=s[l-1],m=0,v=t.length;m<v;m+=l)j[t.substring(m,m+l)]={open:0,closed:0};e.compose=function(b){h=[];k(b,null);return h.join("")};e.Events=type(function(){var b=[],d=this;this.context=null;this.on=function(){1<arguments.length&&"function"===n(arguments[1])&&b.push([arguments[0],arguments[1]])};this.off=function(){if(arguments.length)for(var a=b.length;a--;){if(!arguments[0]||arguments[0]===b[a][0])(!arguments[1]||arguments[1]===b[a][1])&&b.splice(a,1)}else b.length=
0};this.fire=function(){var a=[];if(1<arguments.length)for(var c=1,e=arguments.length;c<e;c++)prms.push(arguments[c]);c=0;for(e=b.length;c<e;c++)if(!arguments[0]||arguments[0]===b[c][0])d.context=arguments[0],b[c][1].apply(this,a),d.context=null}})};
